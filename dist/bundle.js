(()=>{"use strict";function e(e,t,n,s,...o){let a=null;try{a=document.createElement(e)}catch(e){throw new Error("Unable to create HTMLElement! Give a proper tag name")}return t&&a.classList.add(...t.split(" ")),n&&Array.isArray(n)?n.forEach((e=>e&&a.appendChild(e))):n&&"object"==typeof n?a.appendChild(n):n&&"string"==typeof n&&(a.innerHTML=n),s&&s.appendChild(a),o.length&&o.forEach((([e,t])=>{""===t&&a.setAttribute(e,""),e.match(/value|id|placeholder|cols|rows|autocorrect|spellcheck|draggable|src/)?a.setAttribute(e,t):a.dataset[e]=t})),a}const t=e("div","Wrapper",null,document.body),n=(e("button","buttonShuffle","New Game",t),e("div","finishWrapper finishWrapperHidden",'<span>You Win!</span> <span>Moves</span> <span>Time</span> <span  class = "finichPhrase">to start a new game, refresh the page\n</span>',document.body));let s=0,o=0,a=0,l=[...Array(15).keys()].sort((()=>Math.random()-.5)),r=0,i=0;function p(l){o=e("div","numbersOfMoves","<span>Moves: </span>0",t),a=e("div","timeOfMoves","<span>Time: </span>0",t),s=e("div","gem_puzzle",null,document.body);const p={value:16,top:3,left:3},c=[];let d=0;function u(e){const t=c[e];if(Math.abs(p.left-t.left)+Math.abs(p.top-t.top)>1)return;t.element.style.top=92*p.top+"px",t.element.style.left=92*p.left+"px";const s=p.left,a=p.top;p.left=t.left,p.top=t.top,t.left=s,t.top=a,o.innerHTML="<span>Moves </span>"+ ++d,1==d&&m(),c.every((e=>e.value===4*e.top+e.left+1))&&(console.log("Finish"),n.classList.remove("finishWrapperHidden"),n.children[1].innerHTML=`<span>Moves: </span>${d}`,n.children[2].innerHTML=`<span>Time: </span>${r}s`,clearTimeout(i),h())}for(let t=0;t<15;t++){const n=l[t]+1,o=e("div","cell",`${n}`,s,["draggable","true"]),a=t%4,r=(t-a)/4;c.push({value:n,left:a,top:r,element:o}),o.style.top=92*r+"px",o.style.left=92*a+"px",o.addEventListener("click",(()=>{u(t),f(!0)}))}function f(e){let t=new Audio("./assets/click.mp3");e&&t.play()}function h(e){new Audio("./assets/Win.mp3").play()}function m(){r++,i=setTimeout((()=>m()),1e3),a.innerHTML=`Time: ${r}s`}c.push(p)}document.querySelector(".buttonShuffle").addEventListener("click",(function e(){let n=0;l=[...Array(15).keys()].sort((()=>Math.random()-.5));for(let e=0;e<=l.length-1;e+=1)for(let t=e+1;t<=l.length-1;t+=1)l[e]>l[t]&&(n+=1);n%2==0?(r=0,clearTimeout(i),t.removeChild(o),t.removeChild(a),document.body.removeChild(s),p(l)):e()})),p(l)})();